# 1. SPA란 무엇인가?

단일(Single) HTML 페이지(Page)를 로드하고 사용자가 앱과 상호작용 할 때 해당 페이지를 동적으로 업데이트하는 웹앱(Application)을 뜻한다고 해서 SPA (Single Page Application)방식이라고 불립니다.
사용자가 url에 처음 접근하면 웹 페이지에 필요한 모든 정적 리소스를 한 번에 클라이언트로 받아옵니다.
그 다음부터는 페이지를 전환할 때 다시 서버로 요청을 보내는 것이 아닌, JS에 의해 필요한 데이터만 동적으로 받아옵니다. 즉 JS가 라우팅을 담당합니다.

# 2. MPA란 무엇인가?

전통적으로 웹 브라우저는 서버를 호출할 때마다 새 HTML 페이지를 응답받습니다. 즉 페이지가 여러개라는 뜻입니다.
페이지가 여러개니까 여러 HTML 파일이 있고 새로운 페이지를 서버에 요청(request)할 때마다 정적 리소스가 다운로드 되고(response), 그에 맞춰 다시 전체 페이지를 렌더링하는 방식입니다.
이러한 전통적인 방식은 여러 개의(Multiple) 페이지로(Page) 이루어진 웹앱(Application)이라고 해서 MPA (Multiple Page Application)방식이라고 불렸습니다.

# 3. SPA, MPA 각각 장단점

'SSR로 동작하는' MPA는 서버에서 완전한 HTML을 받아오므로 초기 로딩 속도는 SPA에 비해 빠릅니다. 하지만 초기 로딩이 끝난 후 페이지를 전환할 때는 JS에 의해 필요한 데이터만 받아오는 SPA 방식이 더 빠릅니다.
SPA는 페이지 전환이 빠르다는 장점이 있지만 SEO에 불리하다는 단점이 존재합니다. 구글 검색엔진은 SPA도 크롤링을 잘 하지만 국내 검색엔진의 경우 SEO가 어렵습니다. SPA는 화면을 띄우는데 JS가 사용되고 구글 검색엔진은 JS를 해석할 수 있지만 국내 검색엔진은 JS를 해석하지 못하기 때문입니다. 일반적인 SPA 앱을 검색 로봇 입장에서 보면 HTML 페이지가 비어보입니다. 즉 로딩 시점에는 검색 엔진이 색인을 할 만한 콘텐츠가 존재하지 않는 것입니다. 반면에 'SSR로 동작하는' MPA는 애초에 완성된 형태의 HTML을 서버로부터 전달받기 때문에 검색 엔진이 페이지를 크롤링 하기에 적합하므로 SEO에 유리합니다.

# 4. MPA == SSR, SPA == CSR이다? ❌

바로 위에서 'SSR 방식으로 동작하는' MPA는 SEO에 유리하다고 언급했습니다. 'SSR 방식으로 동작하는'이 중요합니다. 그 이유는 다음과 같습니다.
흔히 MPA == SSR, SPA == CSR 이렇게 생각할 수도 있는데 그렇지 않습니다. React같은 JS 기반 프레임워크 혹은 라이브러리를 사용하면 기본적으로 하나의 HTML, CSS, JS 파일이 나오기 때문에 자연스레 SPA이면서 CSR이 되는 것이고, 이를 SSR로 구현하면 페이지 별로 렌더링을 따로 하기 때문에 MPA가 되는 것입니다.
MPA면서 같은 JS 파일을 받고 클라이언트에서 렌더링을 하게 되면 MPA + CSR이 되는 것이고 SPA면서 SSR을 택하면 SSR + SPA가 됩니다. 원리를 이해하면 이런 식으로는 궁합이 잘 맞지 않기 때문에 MPA == SSR, SPA == CSR이 마치 공식인 것 처럼 생각되기도 합니다.
따라서 CSR 방식으로 동작하는 MPA의 경우도 가능하기 때문에 MPA는 무조건 SEO에 유리하다고 해버리면 이는 틀린 말이 되는 것입니다.
Next.js와 같은 React 라이브러리의 프레임워크를 사용하면 흔히 CSR로 동작하는 SPA도 SSR 방식으로 설계가 가능하기 때문에, SEO 문제를 해결할 수 있습니다!
